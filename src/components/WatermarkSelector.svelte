<!-- 
@file src/components/WatermarkSelector.svelte
@description  WatermarkSelector component 
-->

<script lang="ts">
	type MediaItem = {
		url: string;
		name: string;
	};

	interface Props {
		mediaItems?: MediaItem[];
		selectedMedia?: MediaItem | null;
		onSelect: (media: MediaItem) => void;
	}

	let { mediaItems = [], selectedMedia = null, onSelect }: Props = $props();

	function handleSelect(media: MediaItem) {
		onSelect(media);
	}
</script>

<div class="grid grid-cols-3 gap-4">
	{#each mediaItems as media}
		<button
			type="button"
			class="cursor-pointer"
			onclick={() => handleSelect(media)}
			onkeydown={(e) => (e.key === 'Enter' ? handleSelect(media) : null)}
			aria-pressed={media === selectedMedia}
			role="button"
			tabindex="0"
		>
			<img
				src={media.url}
				alt={media.name}
				class="transition-border-color h-auto w-full border duration-300 {media === selectedMedia ? 'border-tertiary-500' : ''}"
			/>
		</button>
	{/each}
</div>
